<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/prolist.css">
    <style>
        table{width: 1200px;margin: 0 auto}
        table img{width: 100px;}
		em{display: block;width: 120px;line-height: 30px;color: #fff;background: dodgerblue;margin: 10px auto;text-align: center;border-radius: 6px;}
    </style>
    <title>Document</title>
</head>
<body>
    <header>
        <div class="margin">
            <span>欢迎来到安适购澳纽商城！</span>
            <div class="h-tr">
                <span>汇率：1AUD = 5.05CNY<b></b></span>
                <div class="h-tr-hid">
                    此汇率仅供参考，结算以实时汇率为准。
                </div>
            </div>
            <ul>
                <li><a href="login.html">登录</a><span>/</span><a href="res.html">注册</a></li>
                <li><a href="">会员中心</a></li>
                <li><a href="">我的订单</a></li>
                <li><a href="">为什么选择我们</a></li>
                <li><a href="">帮助中心</a></li>
                <li><a href="">在线客服</a></li>
            </ul>
        </div>
    </header>
    <nav>
        <div class="margin">
            <div class="logo"><a href="http://www.ansgo.com/"><img alt="安适购,澳洲直邮,新西兰直邮,海外直邮,海外商城,海淘,跨境购,代购,进口直邮,跨境电商" src="images/ansgologo.jpg" width="80%"></a></div>
            <div class="search">
                <form action="http://www.ansgo.com/product/search" method="get">
                    <input class="txt-search" type="text" maxlength="40" id="gname" name="gname" placeholder="请输入商品关键词查询">
                    <input class="btn-search" type="submit" value="搜 索">
                </form>
                <dl>
                    <dd class="hn"><a href="" target="_blank">swisse</a></dd>
                    <dd class="hn"><a href="" target="_blank">blackmores</a></dd>
                    <dd class="hn"><a href="" target="_blank">爱他美</a></dd>
                    <dd class="hn"><a href="" target="_blank">有机</a></dd>
                    <dd class="hn"><a href="" target="_blank">茱莉蔻</a></dd>
                    <dd class="hn"><a href="" target="_blank">鱼油</a></dd>
                    <dd class="hn"><a href="" target="_blank">德运</a></dd>
                    <dd class="hn"><a href="" target="_blank">护肝片</a></dd>
                </dl>
            </div>
            <a class="car" target="_blank" href="shop.html" >
                <div class="l_car">
                    购物车
                    <span class="r-car" style="display: none;">0</span>
                </div>
            </a>
        </div>
    </nav>
    <div class="meun">
        <div class="margin">
            <ul>
                <li><a href="index.html">首页</a></li>
                <li><a href="prolist.html">新品上线<img src="images/header_hot.png" alt=""></a></li>
                <li><a href="prolist.html">全部商品</a></li>
                <li class="liyou">
                    <a href="prolist.html">婴幼奶粉</a>
                    <dl>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                        <dd>有机奶粉</dd>
                    </dl>
                </li>
                <li><a href="prolist.html">营养保健</a>
                    <dl>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                        <dd>营养保健</dd>
                    </dl>
                    </li>
                <li>
                    <a href="prolist.html">营养美食</a>
                    <dl>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                        <dd>营养美食</dd>
                    </dl>
                </li>
                <li>
                    <a href="prolist.html">孕婴专区</a>
                    <dl>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                        <dd>孕婴专区</dd>
                    </dl>
                </li>
                <li>
                    <a href="prolist.html">美容护肤</a>
                    <dl>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>美容护肤</dd>
                    <dd>美容护肤</dd>
                    <dd>美容护肤</dd>
                    <dd>美容护肤</dd></dl>
                </li>
                <li>
                    <a href="prolist.html">个护专场</a>
                    <dl>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>个护专场</dd>
                    <dd>个护专场</dd>
                    <dd>个护专场</dd>
                    <dd>个护专场</dd></dl>
                </li>
                <li>
                    <a href="prolist.html">UGG</a>
                    <dl>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>孕婴专区</dd>
                    <dd>UGG</dd>
                    <dd>UGG</dd>
                    <dd>UGG</dd>
                    <dd>UGG</dd></dl>
                </li>
                <li><a href="prolist.html">品牌列表</a></li>
            </ul>
        </div>
    </div>
    <table border="1" cellspacing="0" width="700" align="center">
        <thead>
            <tr>
                <th>图片</th>
                <th>名字</th>
                <th>价格</th>
                <th>价格（人民币）</th>
                <th>数量</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <div class="last">
        <div class="margin">
            <ul>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>品牌授权，厂家直供</p>
                        <p>强化采购资源内外整合，同多数厂商建立高效合作关系，获得众多知名品牌授权，所有货品均来源于厂家直供或药房采购，一手货源，价格极具竞争力；</p>
                    </div>
                </li>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>大型仓储</p>
                        <p>现已开设澳洲、新西兰、德国、英国等国家的海外仓，多个大型仓库，分别设立在悉尼、墨尔本、奥克兰等地，智能的跨境仓储系统处于行业领先水平；</p>
                    </div>
                </li>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>跨境物流合作</p>
                        <p>
                            跨境物流合作
                            
                            所有产品均从海外当地采购后委托 Polar Express 、EFSPOST、EMS、BPOST等国际物流直接邮寄，让您足不出户就能享用到海外优质产品；</p>
                    </div>
                </li>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>海外直邮 正品保障</p>
                        <p>全球海量优质产品，原产地采购，海外直邮，海关监管，100%正品承诺；</p>
                    </div>
                </li>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>超低价格 合作共赢</p>
                        <p>所有产品均为一线货源，价格直接让利给消费者，并保证货源的稳定性和安全性；</p>
                    </div>
                </li>
                <li>
                    <div class="f1"></div>
                    <div class="f2">
                        <p>最强供应链平台</p>
                        <p>专注澳纽供应链，为会员提供直邮代发业务，100%一件无痕代发，无需采购商品、不用囤货、无需找物流合作，轻松开启海外代购之路。</p>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <footer>
        <div class="margin">
            <div class="f-fl">
                <div class="logo"></div>
                <div class="addr">
                    <div class="f-fl-l">
                    <p>Warehouse in Melbourne:</p>
                    <p>39-47 Peel Street,</p><p>West Melbourne 3003</p>
                    <p>melbourne@ansgo.com</p>
                    <p><a href="https://www.google.com/maps/place/4+The+Crossway,+Campbellfield+VIC+3061,+Australia/@-37.6528609,144.9434096,17z/data=!3m1!4b1!4m5!3m4!1s0x6ad6503c092585e3:0x63c2a40fce47bcc2!8m2!3d-37.6528609!4d144.9455983" target="_blank">Google Position</a></p>
                    </div>
                    <div class="f-fl-r">
                        <p>Warehouse in Auckland:</p>
                        <p>10d Orbit Drive,</p>
                        <p>Rosedale, </p>
                        <p>Auckland, New Zealand</p>
                        <p>auckland@ansgo.com</p>
                        <p><a href="https://www.google.com/maps/place/10+Orbit+Dr,+Rosedale,+Auckland+0632,+New+Zealand/@-36.7398378,174.7260517,17z/data=!3m1!4b1!4m5!3m4!1s0x6d0d3bcd90b22ca5:0x149c18417a0bc01!8m2!3d-36.7398378!4d174.7282404" target="_blank">Google Position</a></p>
                    </div>
                </div>
            </div>
            <ul class="link1">
                <li><a href="">购物指南</a></li>
                <li><a href="">支付方式</a></li>
                <li><a href="">运费说明</a></li>
                <li><a href="">配送方式</a></li>
                <li><a href="">站点地图</a></li>
            </ul>
            <ul class="link1">
                <li><a href="">售后说明</a></li>
                <li><a href="">关于我们</a></li>
                <li><a href="">联系我们</a></li>
                <li><a href="">批发代理</a></li>
            </ul>
            <ul class="f2">
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <ul class="f3">
                <li>
                    <div class="bg1"></div>
                    <div>
                        <p>客服邮箱</p>
                        <p>service@ansgo.com</p>
                    </div>
                </li>
                <li>
                    <div class="bg2"></div>
                    <div>
                        <p>微信客服</p>
                        <p>客服咨询：ansgoshop</p>
                        <p>批发代理：product-ansgo</p>
                        <p>官方微信：ansgomall</p>
                    </div>
                </li>
                <li>
                    <img src="images/weixin_code.jpg" alt="">
                    <img src="images/weixin_customer.jpg" alt="">
                    <p>微信公众号</p>
                    <p>微博客服</p>
                </li>
            </ul>
        </div>
    </footer>
</body>
<script src="js/jquery.js"></script>
<script src="js/jquery.cookie.js"></script>
<script>
    class Car{
			constructor(options){
				this.url = options.url;
				this.body = options.body;
				this.load();
			}
			load(){
				var that = this;
				$.ajax({
                    url:this.url,
                    type:"GET",
					success:function(res){
                        that.res = res;
						that.getcookie();
					}
				})
			}
			getcookie(){
				this.goods = JSON.parse($.cookie("goods"))
				this.display();
			}
			display(){
				var str = ""
				for(var i=0;i<this.res.length;i++){
					for(var j=0;j<this.goods.length;j++){
						if(this.res[i].goodsId === this.goods[j].id){
							str += `<tr>
										<td><img src="${this.res[i].url}"/></td>
										<td>${this.res[i].proName}</td>
                                        <td>${this.res[i].au}</td>
                                        <td>${this.res[i].rmb}</td>
                                        <td><input type="number" value="${this.goods[j].num}"></td>
										<td index="${this.res[i].goodsId}"><em class="em1">删除</em><em class="em2">删除全部<em></td>
									</tr>`
						}
					}
				}
				this.body.html(str)
				this.changeNum()
				this.remove()
			}
			
			changeNum(){
				var that = this;
				this.body.on("input","input",function(){
					that.changeId = $(this).parent().next("td").attr("index");
					that.num = $(this).val();
					
					that.changeCookie(that.changeId,function(i){
						that.goods[i].num = that.num;
					})
				})
			}
			remove(){
				var that = this;
				this.body.on("click","em",function(){
                    if($(this).attr("class") == "em1"){
                        that.removeId = $(this).parent().attr("index");
                        $(this).parent().parent().remove()
                        that.changeCookie(that.removeId,function(i){
                            that.goods.splice(i,1)
                        }) 
                    }
                    if($(this).attr("class") == "em2"){
                       $.cookie("goods","");
                       $(this).parent().parent().parent().html("");
                    }
					
				})
			}
			changeCookie(id,cb){
				for(var i=0;i<this.goods.length;i++){
					if(this.goods[i].id === id){
						cb(i)
					}
				}
				$.cookie("goods",JSON.stringify(this.goods))
            }
        }
        new Car({
            url:"http://localhost/anshigo/data/pro.json",
            body:$("tbody")
		})
</script>
</html>